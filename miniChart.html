<div class="tradingview-widget-container">
    <script type="text/javascript">
    function getParameterByName(name, url) {
    if (!url) {
      url = window.location.href;
    }
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
    }
    const symbol = getParameterByName('symbol');
    console.log(symbol);
    const theme = getParameterByName('theme');
    console.log(theme);
    var script_tag = document.createElement('script');
    script_tag.type = 'text/javascript';
    script_tag.src = 'https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js';
    script_tag.text = `{
      "symbol": "${symbol}",
      "width": "100%",
      "height": "100%",
      "locale": "en",
      "dateRange": "3M",
      "colorTheme": "${theme}",
      "trendLineColor": "rgba(41, 98, 255, 1)",
      "underLineColor": "rgba(41, 98, 255, 0.3)",
      "underLineBottomColor": "rgba(41, 98, 255, 0)",
      "isTransparent": false,
      "autosize": true,
      "largeChartUrl": ""
    }`;
    document.body.appendChild(script_tag);
    </script>
</div>
